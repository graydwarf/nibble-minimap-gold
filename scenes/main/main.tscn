[gd_scene load_steps=10 format=3 uid="uid://cxm5k8qj2n7wa"]

[ext_resource type="Script" uid="uid://rnoeducqawq8" path="res://scenes/main/main.gd" id="1_main"]
[ext_resource type="PackedScene" uid="uid://dv8k2m3xp7qna" path="res://scenes/player/player.tscn" id="2_player"]
[ext_resource type="Script" uid="uid://buy321gfdxi87" path="res://scripts/marker_generator.gd" id="3_markers"]
[ext_resource type="PackedScene" uid="uid://bwm7k4qp2n8xa" path="res://scenes/minimap/minimap.tscn" id="4_minimap"]
[ext_resource type="Script" uid="uid://x3udow02x1h4" path="res://scripts/terrain_manager.gd" id="5_terrain"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_1"]
sky_top_color = Color(0.15, 0.3, 0.55, 1)
sky_horizon_color = Color(0.55, 0.6, 0.7, 1)
ground_bottom_color = Color(0.12, 0.1, 0.08, 1)
ground_horizon_color = Color(0.35, 0.32, 0.28, 1)
sun_angle_max = 25.0
sun_curve = 0.1

[sub_resource type="Sky" id="Sky_1"]
sky_material = SubResource("ProceduralSkyMaterial_1")

[sub_resource type="Environment" id="Environment_1"]
background_mode = 2
sky = SubResource("Sky_1")
ambient_light_source = 2
ambient_light_color = Color(0.45, 0.5, 0.6, 1)
ambient_light_energy = 0.5
tonemap_mode = 2
glow_enabled = true
glow_intensity = 0.3
glow_bloom = 0.1

[sub_resource type="LabelSettings" id="LabelSettings_hint"]
font_size = 14
font_color = Color(1, 1, 1, 0.6)
shadow_color = Color(0, 0, 0, 0.5)

[node name="Main" type="Node3D"]
script = ExtResource("1_main")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_1")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.86601907, -0.3535631, 0.3535593, 0, 0.70710295, 0.7071106, -0.500011, -0.61237127, 0.61236465, 0, 20, 0)
light_energy = 1.2
shadow_enabled = true

[node name="TerrainManager" type="Node3D" parent="."]
script = ExtResource("5_terrain")

[node name="MarkerGenerator" type="Node3D" parent="."]
script = ExtResource("3_markers")
marker_count = 80

[node name="Player" parent="." instance=ExtResource("2_player")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 0)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Minimap" parent="CanvasLayer" instance=ExtResource("4_minimap")]
unique_name_in_owner = true
layout_mode = 3

[node name="HintLabel" type="Label" parent="CanvasLayer"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 16.0
offset_top = -40.0
offset_right = 300.0
offset_bottom = -16.0
text = "WASD: Move | Shift: Sprint | ESC: Release mouse | Click: Capture"
label_settings = SubResource("LabelSettings_hint")
